Core Architecture
Framework: React 18 with TypeScript for robust type safety and modern React features including concurrent rendering and automatic batching.

Routing: wouter for lightweight client-side routing that provides a minimal API surface while maintaining full SPA functionality with browser history support.

Styling: Tailwind CSS combined with shadcn/ui (built on Radix UI primitives) for a comprehensive design system that ensures accessibility and consistent user experience across all components.

Build Tool: Vite optimized for lightning-fast Hot Module Replacement during development and highly optimized production builds with automatic code splitting and tree shaking.

Persistence: Hybrid approach using localStorage for guest users (cart state, preferences) and Firebase/Firestore for authenticated users requiring cloud synchronization across devices, ensuring seamless experience regardless of authentication status.

Architecture: 100% frontend-based Single Page Application with no backend folders, server-side code, or API routes - all functionality handled client-side through React components, Zustand state management, and Firebase Web SDK.

Phase 1: Foundation & Setup
Part 1: Project Initialization and Core Configuration
Initialize a new Vite project with React 18 and TypeScript template using npm create vite@latest pakistani-ecommerce -- --template react-ts. Remove default boilerplate files and create essential configuration files. Configure vite.config.ts with path aliases mapping @ to /src for clean imports, React plugin configuration, and build optimization settings including chunk splitting for vendor libraries. Set up tsconfig.json with strict TypeScript configuration enabling all strict type checking options, path mapping for aliases, and proper module resolution. Create tailwind.config.js with custom Pakistani eCommerce color scheme featuring primary emerald green (#10b981), secondary navy blue (#1e40af), and accent orange (#f97316), along with custom spacing and typography scales. Configure postcss.config.js for Tailwind processing and eslint.config.js with React and TypeScript rules for code quality. Update package.json with optimized build scripts and development commands suitable for static hosting deployment.

Part 2: UI Framework and Component Library Setup
Install shadcn/ui component library specifically for Vite projects by running npx shadcn-ui@latest init and selecting the Vite configuration option. Configure the CLI to use src/components/ui as the components directory and establish the custom color scheme from Part 1. Install essential shadcn components using the CLI: npx shadcn-ui@latest add button input card select checkbox radio-group label form sheet dialog dropdown-menu accordion command. Install lucide-react for comprehensive icon library with npm install lucide-react. Create the proper directory structure with src/components/ui for shadcn components. Configure typography by installing Inter or Poppins font through Google Fonts CDN link in index.html or by importing CSS in the main stylesheet. Test the complete setup by creating a test component in src/App.tsx that renders multiple shadcn components with proper styling and responsiveness.

Part 3: Project Structure and TypeScript Interfaces
Establish comprehensive project file structure within /src directory: create /src/pages for route-based page components, /src/components/ui for shadcn components, /src/components/forms for form-specific components, /src/components/layout for Header and Footer components, /src/components/products for product-related components, /src/lib for utility functions and Firebase configuration, /src/data for mock product database, /src/store for Zustand state management, /src/types for TypeScript interfaces and type definitions, /src/assets for images and static files, and /src/styles for global CSS files. Create comprehensive TypeScript interfaces in /src/types/index.ts defining Product interface with fields optimized for Pakistani market (id, slug, name, description, longDescription, price in PKR, originalPrice for discounts, images array, category, subCategory, inStock, stockCount, rating, reviewCount, features), CartItem interface with product reference and quantity, Customer interface with Pakistani phone number validation, Order interface with delivery details for Pakistani cities, and User interface for authentication state management.

Part 4: Mock Product Database Creation
Create comprehensive product catalog in /src/data/products.ts implementing the Product interface from Part 3. Structure the database as an exported array of product objects containing complete information: unique string id, URL-friendly slug for routing, descriptive product name, concise description for listings, detailed longDescription for product pages, price in Pakistani Rupees using number type, originalPrice for discount calculations, images array with multiple product photos, category and subCategory strings for filtering, inStock boolean flag, stockCount number for inventory management, rating as number (1-5 scale), reviewCount as number, and features array highlighting key product benefits. Populate the database with 20-25 diverse products spanning electronics (smartphones, laptops, headphones), fashion (clothing, shoes, accessories), home goods (furniture, appliances, decor), and other categories popular in Pakistani e-commerce. Ensure all prices reflect realistic Pakistani market values (Rs. 999 to Rs. 50,000 range) and include proper PKR formatting throughout the application.

Part 5: State Management with Zustand and Hybrid Persistence
Install Zustand state management library with npm install zustand. Create cart store in /src/store/cartStore.ts implementing comprehensive shopping cart functionality with TypeScript interfaces. Define store state including items array of CartItem objects and implement methods: addToCart function with duplicate detection and quantity increment logic, removeFromCart function accepting product ID, updateQuantity function with stock validation, and clearCart function for complete cart reset. Add computed selectors for totalItems (sum of all quantities), subtotal (sum of all line totals), shippingCost (free over Rs. 2,000, otherwise Rs. 200), and totalPrice (subtotal plus shipping). Implement hybrid persistence middleware that checks Firebase authentication status: for guest users, persist cart state to localStorage with automatic serialization/deserialization; for authenticated users, sync cart state to Firestore collection with real-time updates and conflict resolution. Create helper functions for Pakistani shipping calculations, currency formatting with proper PKR display, and cart validation ensuring stock limits are respected. Add proper TypeScript typing for all store methods, state properties, and computed values.

Phase 2: Core Layout & Navigation
Part 6: Root Layout and Global Styles
Configure main application component in /src/App.tsx with proper React 18 patterns and wouter routing integration. Install react-helmet-async for dynamic head management replacing Next.js metadata API. Set up /src/styles/globals.css with Tailwind directives (@tailwind base, components, utilities) and define CSS custom properties matching the established color scheme for consistent theming. Add base typography styles including font families, sizes, line heights, and responsive scaling. Implement smooth scrolling behavior for anchor navigation and create container utility classes for consistent content width across breakpoints. Configure global styles for focus management, accessibility features, and print styles. Add essential HTML meta tags in index.html including viewport configuration, language settings (en-PK), currency indication (PKR), and basic Open Graph tags for social sharing. Ensure proper accessibility foundation with semantic HTML structure and ARIA landmark roles.
